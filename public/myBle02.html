<h3>Version: 0.1.5</h3>  




<script>
handleCharacteristicValueChanged = async function(event) { 
   console.log(event.target.value.getUint8(0) + '%');
};


const connectToDeviceAndSubscribeToUpdates33 = async () => {
   const device = await navigator.bluetooth.requestDevice({ filters: [{ services: ['battery_service'] } ] } );
   const server = await device.gatt.connect();
   const service = await server.getPrimaryService('battery_service');
   const characteristic = await service.getCharacteristic('battery_level');
};



connectToDeviceAndSubscribeToUpdates = async function(){ 
   const device = await navigator.bluetooth.requestDevice({filters: [{ namePrefix: 'Thun'}], services: ['battery_service']  });
   const server = await device.gatt.connect();
   const service = await server.getPrimaryService('battery_service');
   const characteristic = await service.getCharacteristic('battery_level');
   characteristic.startNotifications();
   characteristic.addEventListener('characteristicvaluechanged', handleCharacteristicValueChanged);
   const reading = await characteristic.readValue();


   handleCharacteristicValueChanged(reading);
   console.log('reading.getUint8(0) + %');
   console.log(reading.getUint8(0) + '%');
   console.log('event');
   console.log(event);
};

</script>



  <input type=button value="Cool()" onclick="{ 
 //handleCharacteristicValueChanged(event)
 connectToDeviceAndSubscribeToUpdates()
 
 }"><br><br>


from:

<br>

<a href="https://medium.com/going-fullstack/interact-with-bluetooth-devices-using-the-web-bluetooth-api-7984b2509939" >reference</a></a>

